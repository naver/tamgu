# Χειρισμός Συμβολοσειρών στο Tamgu

Το Tamgu παρέχει αρκετούς τύπους για τη χειρισμό συμβολοσειρών: `string`, `ustring` και `rawstring`.

- Ο τύπος `string` χρησιμοποιείται για τον χειρισμό οποιουδήποτε είδους συμβολοσειράς. Παρέχει πολλές διαφορετικές μεθόδους για την εξαγωγή υποσυμβολοσειρών, χαρακτήρων ή την εφαρμογή αναγνώρισης προτύπων πάνω σε αυτή.
- Ο τύπος `ustring` χρησιμοποιείται για να προσφέρει γρηγορότερη πρόσβαση σε πολύ μεγάλες συμβολοσειρές, καθώς το σύστημα υποθέτει μόνο μια μόνο κωδικοποίηση για ολόκληρη τη συμβολοσειρά. Βασίζεται στην υλοποίηση `wstring` στη C++.
- Ο τύπος `rawstring` χειρίζεται συμβολοσειρές στο επίπεδο byte. Δέχεται συμβολοσειρές αλλά τις χειρίζεται στο επίπεδο byte. Δεν απαιτεί ειδική προστασία σε νήματα και μπορεί να προσπελαστεί και να τροποποιηθεί ελεύθερα. Ωστόσο, δεν μπορείτε να αλλάξετε το μέγεθος ενός `rawstring` εάν τρέχουν νήματα στο παρασκήνιο.

## Μέθοδοι

### Μετατροπή Βάσης

- `base(int b, bool toconvert)`: Επιστρέφει την αριθμητική τιμή που αντιστοιχεί στο αριθμητικό περιεχόμενο της συμβολοσειράς στη βάση `b`. Ο προαιρετικός παράμετρος `toconvert` είναι όταν είναι `false`, ο αριθμός που πρόκειται να μετατραπεί είναι στη βάση 10 και μετατρέπεται στη βάση `b`.
- `base(vector chrs)`: Ορίζει την κωδικοποίηση για κάθε ψηφίο σε μια δεδομένη βάση. Το προεπιλεγμένο σύνολο είναι 64 χαρακτήρες: 0-9, A-Z, a-z, #, @. Μπορείτε να αντικαταστήσετε αυτό το προεπιλεγμένο σύνολο χαρακτήρων με το δικό σας. Εάν παρέχετε έναν κενό διάνυσμα, τότε το σύστημα επαναφέρεται στο προεπιλεγμένο σύνολο χαρακτήρων.

### Εξαγωγή και Χειρισμός Συμβολοσειρών

- `bytes()`: Επιστρέφει ένα ivector με τα bytes που ταιριάζουν με τη συμβολοσειρά.
- `charposition(int pos)`: Μετατρέπει μια θέση byte σε μια θέση χαρακτήρα (ιδιαίτερα χρήσιμο για συμβολοσειρές UTF8).
- `deaccentuate()`: Αφαιρεί τις τόνους από τους χαρακτήρες με τόνους.
- `doublemetaphone()`: Επιστρέφει ένα svector που περιέχει τη διπλή κωδικοποίηση metaphone της συμβολοσειράς.
- `dos()`: Μετατρέπει μια συμβολοσειρά σε κωδικοποίηση DOS.
- `dostoutf8()`: Μετατρέπει μια συμβολοσειρά DOS σε κωδικοποίηση UTF8.
- `emoji()`: Επιστρέφει την κειμενική περιγραφή (στα αγγλικά) ενός emoji.
- `evaluate()`: Αξιολογεί τα μετα-χαρακτήρες μέσα σε μια συμβολοσειρά και επιστρέφει την αξιολογημένη συμβολοσειρά.
- `extract(int pos, string from, string up1, string up2...)`: Επιστρέφει ένα svector που περιέχει όλες τις υποσυμβολοσειρές από την τρέχουσα συμβολοσειρά, ξεκινώντας από τη θέση `pos`, που αποτελούνται από `from` έως μία από τις επόμενες συμβολοσειρές `up1`, `up2`, κλπ.
- `fill(int nb, string char)`: Δημιουργεί μια συμβολοσειρά από `nb` χαρακτήρες.
- `find(string sub, int pos)`: Επιστρέφει τη θέση της υποσυμβολοσειράς `sub` ξεκινώντας από τη θέση `pos`.
- `format(p1, p2, p3)`: Δημιουργεί μια νέα συμβολοσειρά από την τρέχουσα συμβολοσειρά στην οποία κάθε '%x' συσχετίζεται με ένα από τα παράμετρα, όπου 'x' είναι η θέση αυτής της παραμέτρου στη λίστα ορισμάτων. Το 'x' ξεκινάει από το 1.
- `geterr()`: Ανιχνεύει την τρέχουσα έξοδο σφάλματος.
- `getstd()`: Ανιχνεύει την τρέχουσα προτυποποιημένη έξοδο.
- `html()`: Επιστρέφει τη συμβολοσειρά σε μια συμβατή με HTML μορφή ή ως ένα διάνυσμα συμβολοσειρών.
- `insert(i, s)`: Εισάγει τη συμβολοσειρά `s` στη θέση `i`. Εάν το `i` είναι -1, τότε εισάγετε τη συμβολοσειρά `s` μεταξύ κάθε χαρακτήρα στην είσοδο συμβολοσειρά.
- `isalpha()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο αλφαβητικούς χαρακτήρες.
- `isconsonant()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο σύμφωνους χαρακτήρες.
- `isdigit()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο ψηφία.
- `isemoji()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο emojis.
- `islower()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο πεζούς χαρακτήρες.
- `ispunctuation()`: Ελέγχει εάν η συμβολοσειρά αποτελείται από σημεία στίξης.
- `isupper()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο κεφαλαίους χαρακτήρες.
- `isutf8()`: Ελέγχει εάν μια συμβολοσειρά περιέχει χαρακτήρες UTF8.
- `isvowel()`: Ελέγχει εάν μια συμβολοσειρά περιέχει μόνο φωνήεντα.
- `last()`: Επιστρέφει τον τελευταίο χαρακτήρα.
- `latin()`: Μετατρέπει μια συμβολοσειρά UTF8 σε LATIN.
- `left(int nb)`: Επιστρέφει τους πρώτους `nb` χαρακτήρες μιας συμβολοσειράς.
- `levenshtein(string s)`: Επιστρέφει την απόσταση επεξεργασίας μεταξύ της `s` σύμφωνα με τον αλγόριθμο Levenshtein.
- `parenthetic()`: Μετατρέπει μια παρενθετική έκφραση σε ένα vector.
- `parenthetic(string opening, string closing, bool comma, bool separator, bool keepwithdigit, svector rules)`: Μετατρέπει μια αναδρομική έκφραση χρησιμοποιώντας ανοίγματα και κλεισίματα ως διαχωριστικά.
- `lower()`: Επιστρέφει τη συμβολοσειρά σε πεζούς χαρακτήρες.
- `mid(int pos, int nb)`: Επιστρέφει τους `nb` χαρακτήρες που ξεκινούν από τη θέση `pos` μιας συμβολοσειράς.
- `ngrams(int n)`: Επιστρέφει ένα vector με όλα τα ngrams της τάξης `n`.
- `ord()`: Επιστρέφει τον κώδικα ενός χαρακτήρα συμβολοσειράς.
- `parse()`: Αναλύει μια συμβολοσειρά ως κομμάτι κώδικα και επιστρέφει την αξιολόγηση σε ένα vector.
- `pop()`: Αφαιρεί τον τελευταίο χαρακτήρα.
- `pop(i)`: Αφαιρεί τον χαρακτήρα στη θέση `i`.
- `read(string file)`: Διαβάζει ένα αρχείο στη συμβολοσειρά.
- `removefirst(int nb)`: Αφαιρεί τους πρώτους `nb` χαρακτήρες μιας συμβολοσειράς.
- `removelast(int nb)`: Αφαιρεί τους τελευταίους `nb` χαρακτήρες μιας συμβολοσειράς.
- `replace(sub, str)`: Αντικαθιστά τις υποσυμβολοσειρές που ταιριάζουν με το `sub` με το `str`.
- `reverse()`: Αντιστρέφει τη συμβολοσειρά.
- `rfind(string sub, int pos)`: Επιστρέφει τη θέση της υποσυμβολοσειράς `sub` προς τα πίσω, ξεκινώντας από τη θέση `pos`.
- `right(int nb)`: Επιστρέφει τους τελευταίους `nb` χαρακτήρες μιας συμβολοσειράς.
- `scan(rgx, string sep, bool immediatematch, string remaining)`: Επιστρέφει όλες τις υποσυμβολοσειρές που ταιριάζουν με το `rgx` σύμφωνα με τον Tamgu κανόνα των τακτικών εκφράσεων.
- `size()`: Επιστρέφει το μήκος μιας συμβολοσειράς.
- `slice(int n)`: Κόβει μια συμβολοσειρά σε υποσυμβολοσειρές μεγέθους `n`.
- `split(string splitter)`: Χωρίζει μια συμβολοσειρά κατά μήκος του `splitter` και αποθηκεύει τα αποτελέσματα σε ένα svector.
- `splite(string splitter)`: Χωρίζει μια συμβολοσειρά με τον ίδιο τρόπο όπως το `split` παραπάνω, αλλά κρατάει τις κενές συμβολοσειρές στο τελικό αποτέλεσμα.
- `multisplit(string sp1, string sp2...)`: Χωρίζει μια συμβολοσειρά κατά μήκος πολλαπλών διαχωριστικών συμβολοσειρών.
- `stokenize(map keeps)`: Διαιρεί μια συμβολοσειρά σε λέξεις και σημεία στίξης.
- `tags(string o, string c, bool comma, bool separator, bool keepwithdigit, svector rules)`: Αναλύει μια συμβολοσειρά ως παρενθετική έκφραση, όπου παρέχονται οι συμβολοσειρές ανοίγματος και κλεισίματος.
- `tokenize(bool comma, bool separator, svector rules)`: Διαιρεί μια συμβολοσειρά σε λέξεις και σημεία στίξης.
- `trim()`: Αφαιρεί τους τελικούς χαρακτήρες.
- `trimleft()`: Αφαιρεί τους τελικούς χαρακτήρες αριστερά.
- `trimright()`: Αφαιρεί τους τελικούς χαρακτήρες δεξιά.
- `upper()`: Επιστρέφει τη συμβολοσειρά σε κεφαλαίους χαρακτήρες.
- `utf8()`: Μετατρέπει μια συμβολοσειρά LATIN σε UTF8.
- `utf8(int part)`: Μετατρέπει μια συμβολοσειρά LATIN που κωδικοποιείται σε μέρος `part` του ISO 8859 σε UTF8.
- `write(string file)`: Γράφει το περιεχόμενο της συμβολοσειράς σε ένα αρχείο.

## Χειρισμός Συμβολοσειρών

Το Tamgu παρέχει επίσης ειδικές μεθόδους για τις κορεατικές συμβολοσειρές και τους λατινικούς πίνακες. Αυτές οι μέθοδοι χρησιμοποιούνται με τους τύπους `string` και `ustring`.

### Ειδικές Μέθοδοι για τις Κορεατικές Συμβολοσειρές

- `ishangul()`: Επιστρέφει `true` εάν είναι ένας χαρακτήρας Hangul.
- `isjamo()`: Επιστρέφει `true` εάν είναι ένας χαρακτήρας Hangul jamo.
- `jamo(bool combine)`: Εάν το `combine` είναι `false` ή απουσιάζει, χωρίζει ένα κορεατικό jamo στα βασικά συστατικά του συμφώνου και του φωνήεντος. Εάν το `combine` είναι `true`, συνδυάζει το περιεχόμενο σε ένα jamo.
- `normalizehangul()`: Κανονικοποιεί διάφορες κωδικοποιήσεις UTF8 των χαρακτήρων Hangul.
- `romanization()`: Ρωμαντικοποίηση των χαρακτήρων Hangul.

### Πίνακας Λατινικής Κωδικοποίησης

Το Tamgu παρέχει ονόματα κωδικοποίησης και σταθερές για την πρόσβαση σε αυτές τις κωδικοποιήσεις. Τα ονόματα κωδικοποίησης είναι:

- `e_latin_we`: Δυτική Ευρώπη
- `e_latin_ce`: Κεντρική Ευρώπη
- `e_latin_se`: Νότια Ευρώπη
- `e_latin_ne`: Βόρεια Ευρώπη
- `e_cyrillic`: Κυριλλικό
- `e_arabic`: Αραβικό
- `e_greek`: Ελληνικό
- `e_hebrew`: Εβραϊκό
- `e_turkish`: Τουρκικό
- `e_nordic`: Βόρεια
- `e_thai`: Ταϊλανδικό
- `e_baltic`: Βαλτική Ακτή
- `e_celtic`: Κελτική
- `e_latin_ffe`: Επέκταση (Γαλλικά, Φινλανδικά, Εσθονικά)
- `e_latin_see`: Νοτιοανατολική Ευρώπη
- `e_windows`: Κωδικοποίηση Windows

## Τελεστές

Το Tamgu υποστηρίζει αρκετούς τελεστές για τη χειρισμό συμβολοσειρών:

- `sub in s`: Ελέγχει εάν η `sub` είναι υποσυμβολοσειρά της `s`.
- `for (c in s) {…}`: Επαναλαμβάνει όλους τους χαρακτήρες στη `s`.
- `+`: Συνενώνει δύο συμβολοσειρές.
- `"…"`: Ορίζει μια συμβολοσειρά, όπου μετα-χαρακτήρες όπως `\n`, `\t`, `\r`, `\"` ερμηνεύονται.
- `'…'`: Ορίζει μια συμβολοσειρά, όπου οι μετα-χαρακτήρες δεν ερμηνεύονται.

## Δείκτες

Το Tamgu επιτρέπει την ευρετηρίαση και τροποποίηση συμβολοσειρών χρησιμοποιώντας δείκτες:

- `str[i]`: Επιστρέφει τον `i`οστό χαρακτήρα μιας συμβολοσειράς.
- `str[i:j]`: Επιστρέφει την υποσυμβολοσειρά μεταξύ των θέσεων `i` και `j`.
- `str[s..]`: Επιστρέφει την υποσυμβολοσειρά που ξεκινάει από τη συμβολοσειρά `s`.
- `str[-s..]`: Επιστρέφει την υποσυμβολοσειρά που ξεκινάει από τη συμβολοσειρά `s` από το τέλος της συμβολοσειράς.

Εάν ένας δείκτης είναι εκτός ορίων, εκτός εάν ο παράμετρος `erroronkey` έχει οριστεί σε `false`, σημειώνεται μια εξαίρεση.

## Παραδείγματα

Παρακάτω παρουσιάζονται μερικά παραδείγματα χειρισμού συμβολοσειρών στο Tamgu:

```tamgu
string s;
string x;
vector v;

// Μερικές βασικές εργασίες με συμβολοσειρές
s = "12345678a";
x = s[0];  // τιμή=1
x = s[2:3];   // τιμή=3
x = s[2:-2];  // τιμή=34567
x = s[3:];  // τιμή=45678a
x = s[:"56"];  // τιμή=123456
x = s["2":"a"];  // τιμή=2345678a
s[2] = "ef";  // τιμή=κενό

// Οι 3 τελευταίοι χαρακτήρες
x = s.right(3);  // τιμή=78a

// Ένα split κατά μήκος ενός κενού
s = "a b c";
v = s.split(" ");  // v=["a", "b", "c"]

// Regex, x είναι μια συμβολοσειρά, ψάχνουμε για την πρώτη ταιριαστή εμφάνιση της κανονικής έκφρασης
x = s.scan("%d%d%c");  // τιμή=78a

// Έχουμε ένα πρότυπο, χωρίζουμε τη συμβολοσειρά μας κατά μήκος αυτού του προτύπου
s = "12a23s45e";
v = s.scan("%d%d%c");  // τιμή=['12a', '23s', '45e']

x = s.replace(r"%d%ds", "X"); // τιμή=12aX45e

// Το replace δέχεται επίσης μεταβλητές %x όπως στις κανονικές εκφράσεις του Tamgu
x = s.replace(r"%d%1s", "%1"); // τιμή=12a2345e

// Κανονικές εκφράσεις: Δεν είναι διαθέσιμες σε όλες τις πλατφόρμες
preg rgx(p"\w+day");
string str = "Yooo Wesdenesday Saturday";
vector vrgx = rgx in str; // ['Wesdenesday', 'Saturday']
string s = rgx in str; // Wesdenesday
int i = rgx in str; // η θέση είναι 5

// Χρησιμοποιούμε (…) για να απομονώσουμε συγκεκριμένα τμήματα που θα αποθηκευτούν στο vector
rgx = p"(\d{1,3}):( \d{1,3}):( \d{1,3}):( \d{1,3})";
str = '1:22:33:444';
vrgx = str.split(rgx);  // [1, 22, 33, 444], rgx είναι μια έκφραση διαχωρισμού

str = '1:22:33:4444';
vrgx = str.split(rgx);  // [] (4444 περιέχει 4 ψηφία)

str = "A_bcde";
// Απαιτείται πλήρης αντιστοιχία
if (p'[a-zA-Z]_.+' == str)
    println("Yooo"); // Yooo

// Αυτό είναι επίσης ισοδύναμο με:
rgx = p'[a-zA-Z]_.+';
if (rgx.match(str))
    println("Yooo bis");

str = "ab(Tamgu 12,Tamgu 14,Tamgu 15,Tamgu 16)";
v = str.extract(0, "Tamgu ", ",", ")");
// Αποτέλεσμα: ['12', '14', '15', '16']

string frm = "this %1 is a %2 of %1 with %3";
str = frm.format("tst", 12, 14);
println(str); // Αποτέλεσμα: this tst is a 12 of tst with 14
```