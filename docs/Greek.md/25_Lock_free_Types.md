# Τύποι χωρίς κλείδωμα

Οι τύποι χωρίς κλείδωμα είναι εξαιρετικά χρήσιμοι σε πολυνηματικές εφαρμογές καθώς επιτρέπουν την επεξεργασία αριθμών, συμβολοσειρών, διανυσμάτων ή χαρτών χωρίς την ανάγκη για κλειδώματα. Τα κλειδώματα μπορούν να επηρεάσουν σημαντικά την απόδοση εκτέλεσης. Όταν ένα νήμα τεθεί σε αναμονή λόγω ενός κλειδώματος, το σύστημα πρέπει να αποθηκεύσει το περιβάλλον του και να το επανενεργοποιήσει μόλις απελευθερωθεί το κλείδωμα. Ο προγραμματισμός χωρίς κλείδωμα στοχεύει στο να ελαχιστοποιήσει τη χρήση των κλειδωμάτων για να αποφευχθούν δαπανηρές διακοπές στη ροή εκτέλεσης.

## Πίνακας και Rawstring

Στις προηγούμενες ενότητες, έχουμε συζητήσει δύο αντικείμενα χωρίς κλείδωμα: πίνακα και rawstring.

Αυτά τα αντικείμενα έχουν το μοναδικό χαρακτηριστικό ότι ο μέγεθός τους είναι σταθερό και δεν μπορεί να τροποποιηθεί εντός του πλαισίου ενός νήματος. Αυτό εγγυάται ότι ο συγχρονισμένος πρόσβαση σε αυτά τα αντικείμενα δεν θα παρεμβάλει με τη δήλωση εσωτερικού τους buffer.

## Ατομικές τιμές: a_bool, a_int, a_float, a_string, a_ustring

Ο Tamgu παρέχει επίσης πέντε ατομικές τιμές για λογικές τιμές, ακέραιους αριθμούς, δεκαδικούς αριθμούς και συμβολοσειρές. Αυτά τα αντικείμενα μπορούν να χρησιμοποιηθούν ως κανονικές τιμές, αλλά στην περίπτωση της συγχρονισμένης πρόσβασης, η ατομικότητά τους είναι εγγυημένη. Η ατομικότητα, σε αυτό το πλαίσιο, σημαίνει ότι μόνο ένα νήμα μπορεί να τροποποιήσει την τιμή τους ταυτόχρονα.

## Συστοιχίες: a_vector, a_[i|f|s|u]vector, a_map [i|f|s|u][i|f|s|u]

Ο Tamgu προσφέρει επίσης συστοιχίες που μπορούν να τροποποιηθούν από διάφορα νήματα ταυτόχρονα με ελάχιστη χρήση κλειδωμάτων. Αυτές οι δομές μπορούν να χρησιμοποιηθούν όπως οι αντίστοιχοι μη-ατομικοί χάρτες τους. Υλοποιούνται ως συνδεδεμένη λίστα κομματιών, με κάθε κομμάτι ικανό να χωρέσει ένα σημαντικό αριθμό τιμών. Τα κλειδώματα χρησιμοποιούνται μόνο όταν προστίθεται ένα νέο στοιχείο στη συνδεδεμένη λίστα. Οι λειτουργίες ανάγνωσης και αποθήκευσης περισσότερων στοιχείων πραγματοποιούνται χωρίς κλειδώματα, εκτός αν ο χάρτης ή το διάνυσμα δεν είναι αρκετά μεγάλα για να χωρέσουν ένα νέο στοιχείο.

Σημείωση: Οι a_map είναι δοχεία τιμών, ενώ ο a_vector είναι ένα δοχείο αντικειμένων.

Σημείωση: Χρειάζεστε να φορτώσετε τη βιβλιοθήκη "allmaps" για να έχετε πρόσβαση σε αυτούς τους χάρτες.

## Δακτύλιος

"Δακτύλιος" είναι ένα άλλο χωρίς κλείδωμα δοχείο που μπορεί να περιέχει ένα μέγιστο αριθμό 65535 στοιχείων. Υλοποιείται ως μια δομή όπου τα στοιχεία μπορούν να αποθηκευτούν ή να αφαιρεθούν από την μπροστινή ή πίσω πλευρά. Αντίθετα με άλλα δοχεία, αυτές οι λειτουργίες έχουν τον ίδιο χρόνο μνήμης ή χώρου.

## Σημαντικό

Όταν πολλά νήματα προσπαθούν να τροποποιήσουν την ίδια μεταβλητή χωρίς κλείδωμα, δεν υπάρχει εγγύηση ότι και οι δύο τροποποιήσεις θα είναι επιτυχείς. Το τελευταίο νήμα που έχει πρόσβαση στη μεταβλητή μπορεί να είναι αυτό που θα τροποποιήσει την τιμή της.