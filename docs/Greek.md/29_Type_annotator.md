# Αναγνωριστής

## Περιγραφή

Ο `αναγνωριστής` είναι ένα εργαλείο αναγνώρισης κειμένου βασισμένο σε κανόνες. Σας επιτρέπει να ορίσετε κανόνες για να επισημάνετε συγκεκριμένα μοτίβα σε ένα κείμενο. Οι κανόνες του αναγνωριστή χωρίζονται σε τέσσερις ομάδες: κανόνες λεξικού, κανόνες αναγνώρισης, γενικοί κανόνες και κανόνες διαγραφής.

## Σύνταξη Κανόνων

Ένας κανόνας στο εργαλείο `αναγνωριστής` είναι μια κανονική έκφραση που συνδυάζει διακριτά τμήματα και σημασιολογικές κατηγορίες. Επιστρέφει μια ετικέτα που συσχετίζεται με το εύρος των τμημάτων που ταιριάζουν στο αρχικό κείμενο.

Το σώμα ενός κανόνα γράφεται μετά το σύμβολο `<-` ή `←`. Οι διαθέσιμοι τελεστές σε έναν κανόνα είναι:

- `{t1,t2,t3...}`: Ταιριάζει με οποιοδήποτε από τα αναφερόμενα τμήματα.
- `?`: Ταιριάζει με οποιοδήποτε τμήμα.
- `#label`: Ταιριάζει με μια σημασιολογική ετικέτα που παράγεται από έναν κανόνα ή μια ετικέτα λεξικού.
- `#{l1,l2...}`: Ταιριάζει αν η ετικέτα είναι μία από τις αναφερόμενες ετικέτες (διάζευξη).
- `#[l1,l2...]`: Ταιριάζει αν η ετικέτα ταιριάζει με όλες τις αναφερόμενες ετικέτες (σύζευξη).
- `*`, `+ (:c)`: Τελεστές Kleene που μπορούν να περιοριστούν από ένα μετρητή.
- `~`: Αρνητική έννοια (μόνο για ατομικά στοιχεία).
- `(...)`: Προαιρετική ακολουθία τμημάτων.
- `[...]`: Ακολουθία τμημάτων.
- `>..<`: Παραλείπει τα τμήματα αυτής της ακολουθίας στην τελική επισήμανση.
- `<call p1 p2>`: Καλεί μια συνάρτηση που επιστρέφει αληθές ή ψευδές.
- `token`: Ταιριάζει με ένα μεμονωμένο τμήμα.
- `'rgx'`: Ταιριάζει με μια κανονική έκφραση βασισμένη στη σύνταξη των κανονικών εκφράσεων POSIX.
- `"metas"`: Ταιριάζει με μια συγκεκριμένη κανονική έκφραση Tamgu βασισμένη σε μετα-χαρακτήρες.

## Μέθοδοι Αναγνωριστή

Ο τύπος `αναγνωριστής` παρέχει διάφορες μεθόδους για την εξέταση των επισημάνσεων που παράγονται από τους κανόνες:

- `compile(string rules)`: Μεταγλωττίζει τους κανόνες που αποθηκεύονται στο αλφαριθμητικό `rules` στη μεταβλητή `αναγνωριστής`. Μόνο αυτή η μεταβλητή έχει πρόσβαση στους κανόνες.
- `select(uvector labels)`: Επιλέγει τους κανόνες των οποίων οι ετικέτες έχουν καθοριστεί στις `ετικέτες`.
- `clear()`: Καθαρίζει την επιλογή ετικέτας.
- `selection()`: Επιστρέφει την επιλογή ετικέτας.
- `lexicon(transducer t)`: Συσχετίζει ένα γενικού σκοπού μετατροπέα λεξικού με τον `αναγνωριστή`.
- `compilelexicons()`: Προ-μεταγλωττίζει τα λεξικά. Εάν δεν καλεστεί πριν από την ανάλυση, η πρώτη ανάλυση θα τα μεταγλωττίσει, πράγμα που μπορεί να προκαλέσει καθυστερήσεις.
- `spans(bool)`: Επιστρέφει τις κλάσεις επισήμανσης και τις αποκλίσεις τους εάν `true`, ή μόνο τις κλάσεις επισήμανσης εάν `false`.
- `parse(ustring txt, bool keeplex)`: Εφαρμόζει τους κανόνες σε ένα `ustring`.
- `apply(uvector tokens, bool keeplex)`: Εφαρμόζει τους κανόνες σε ένα διάνυσμα τμημάτων.
- `apply(vector morphos, bool keeplex)`: Εφαρμόζει τους κανόνες σε ένα διάνυσμα μορφολογικά αναλυμένων τμημάτων.
- `apply(annotator a, bool keeplex)`: Εφαρμόζει τους κανόνες στη δομή που υπολογίστηκε από μια προηγούμενη ανάλυση ή εφαρμογή του `αναγνωριστή`.

## Συνάρτηση Κλήσης

Μπορείτε να συσχετίσετε μια συνάρτηση κλήσης με ένα αντικείμενο `αναγνωριστής`. Αυτή η συνάρτηση κλήσης καλείται μετά την ανάλυση αλλά πριν από την εφαρμογή των κανόνων στα κείμενα. Η συνάρτηση κλήσης έχει την ακόλουθη υπογραφή:

```cpp
function catching(vector v, annotator a) {
    v = pos.tagger(v);
    return v;
}
```

Η συνάρτηση `catching` μπορεί να χρησιμοποιηθεί για να προσθέσει περισσότερη ανάλυση στις επισημάνσεις. Το διάνυσμα `v` είναι μια λίστα από υπο-διανύσματα, όπου κάθε υπο-διάνυσμα περιέχει τη λέξη, το λήμμα της, τα χαρακτηριστικά της, την αριστερή απόκλιση και τη δεξιά απόκλιση. Η συνάρτηση πρέπει να επιστρέφει ένα διάνυσμα με την ίδια δομή.

## Κανόνες Λεξικού

Ένας κανόνας λεξικού χρησιμοποιείται για να περιγράψει το λεξιλόγιο του πεδίου. Συσχετίζει λέξεις με συγκεκριμένες ετικέτες. Οι κανόνες λεξικού μπορούν να είναι απλές λέξεις ή πολυλεκτικές εκφράσεις. Οι πολυλεκτικές εκφράσεις μπορούν να αναγνωριστούν ως ένα μόνο τμήμα μόνο εάν γραφούν χρησιμοποιώντας τις κανονικές εκφράσεις Tamgu.

## Κανόνες Αναγνώρισης

Ένας κανόνας αναγνώρισης είναι μια ετικέτα που συσχετίζεται με ένα σώμα. Το σώμα μπορεί να περιλαμβάνει προαιρετικά στοιχεία, διάζευξη στοιχείων, κανονικές εκφράσεις, παραλείψεις λέξεων κ.λπ. Επιστρέφει μια λίστα ετικετών με τις αποκλίσεις τους στο αρχικό κείμενο ως αποκλίσεις.

## Γενικοί Κανόνες

Οι γενικοί κανόνες ξεκινούν με ένα `#` ή `~` και είναι παρόμοιοι με τους κανόνες αναγνώρισης. Ωστόσο, δεν εφαρμόζονται κατά μήκος του κειμένου, αλλά μετά την πλήρη επεξεργασία του κειμένου για να χειριστούν τις επισημάνσεις. Οι γενικοί κανόνες μπορούν να προσθέσουν νέες επισημάνσεις ή να αφαιρέσουν υπάρχουσες.

## Παράδειγμα

```cpp
// Λεξικό
@positive  ← υπέροχο.
@positive  ← καλύτερο.
@food  ← σούσι.

// Κανόνες αναγνώρισης
food ← (#positive), #food +.

// Δημιουργία αναγνωριστή
αναγνωριστής r;

// Μεταγλώττιση των κανόνων
r.compile("@positive  ← υπέροχο.\n@positive  ← καλύτερο.\n@food  ← σούσι.\nfood ← (#positive), #food +.");

// Εφαρμογή των κανόνων στο κείμενο
ustring txt = "Το σούσι ήταν υπέροχο.";
r.parse(txt, true);
```

Στο παράδειγμα παραπάνω, δημιουργείται ο `αναγνωριστής`, μεταγλωττίζονται οι κανόνες και στη συνέχεια εφαρμόζονται στο κείμενο "Το σούσι ήταν υπέροχο.". Οι παραγόμενες επισημάνσεις θα αποθηκευτούν στο αντικείμενο `αναγνωριστής`.