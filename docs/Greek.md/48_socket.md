# Σοκέτα

Η κλάση `Σοκέτα` χειρίζεται τις αλληλεπιδράσεις HTML σοκέτας μεταξύ ενός πελάτη και ενός διακομιστή.

## Μέθοδοι

### Πλευρά Πελάτη

1. `close()`: κλείνει τη σοκέτα.
2. `close(clientid)`: κλείνει την επικοινωνία με το συγκεκριμένο `clientid`.
3. `connect(string hostname, int port)`: συνδέει έναν πελάτη σε ένα συγκεκριμένο κεντρικό υπολογιστή σε ένα συγκεκριμένο θύρα.
4. `createServer(int port, int nbclients)`: δημιουργεί ένα διακομιστή στον τοπικό υπολογιστή με ένα συγκεκριμένο θύρα.
5. `createServer(string hostname, int port, int nbclients)`: δημιουργεί ένα διακομιστή σε έναν κεντρικό υπολογιστή με ένα συγκεκριμένο θύρα.
6. `get()`: αποκτά έναν χαρακτήρα από μια σοκέτα.
7. `get(int clientid)`: αποκτά έναν χαρακτήρα από μια σοκέτα με το συγκεκριμένο `clientid`.
8. `getFrame(string name)`: επιστρέφει ένα αντικείμενο πλαισίου απομακρυσμένης διαχείρισης του συγκεκριμένου `name`.
9. `getFunction(string name)`: επιστρέφει ένα αντικείμενο συνάρτησης απομακρυσμένης διαχείρισης του συγκεκριμένου `name`.
10. `getHostname()`: επιστρέφει το τρέχον όνομα του κεντρικού υπολογιστή. Η σοκέτα δεν χρειάζεται να είναι ενεργοποιημένη για να αποκτήσει αυτές τις πληροφορίες.
11. `read()`: διαβάζει ένα αντικείμενο Tamgu από τη σοκέτα.
12. `read(int clientid)`: διαβάζει ένα αντικείμενο Tamgu από τη σοκέτα με το συγκεκριμένο `clientid`.
13. `receive(int nb)`: διαβάζει `nb` χαρακτήρες από μια σοκέτα.
14. `receive(int clientid, int nb)`: διαβάζει `nb` χαρακτήρες από τη σοκέτα με το συγκεκριμένο `clientid`.
15. `run(int client, string stopstring)`: τίθεται ο διακομιστής σε λειτουργία εκτέλεσης. Ο διακομιστής μπορεί τώρα να δεχτεί την απομακρυσμένη κλήση μεθόδου (RMI) λειτουργία.
16. `send(int clientid, string s)`: γράφει ένα απλό αλφαριθμητικό στη σοκέτα με το συγκεκριμένο `clientid`.
17. `send(string s)`: γράφει ένα απλό αλφαριθμητικό στη σοκέτα.

### Πλευρά Διακομιστή

18. `setTimeout(int i)`: ορίζει το χρονικό όριο σε δευτερόλεπτα για τόσο την εγγραφή όσο και την ανάγνωση στη σοκέτα. Χρησιμοποιήστε αυτήν την εντολή για να αποφύγετε το μπλοκάρισμα σε μια ανάγνωση ή εγγραφή. Μια τιμή -1 ακυρώνει το χρονικό όριο.
19. `wait()`: ο διακομιστής περιμένει έναν πελάτη να συνδεθεί. Επιστρέφει το αναγνωριστικό του πελάτη, το οποίο θα χρησιμοποιηθεί για να επικοινωνήσει με τον πελάτη.
20. `write(clientid, o1, o2...)`: γράφει αντικείμενα Tamgu στη σοκέτα με το συγκεκριμένο `clientid`.
21. `write(o1, o2...)`: γράφει αντικείμενα Tamgu στη σοκέτα.

## Παράδειγμα: Πλευρά Διακομιστή

```python
// Πλευρά διακομιστή
int clientid;
Socket s; // δημιουργία σοκέτας
string name = s.getHostname();
println("Τοπικός διακομιστής:", name);
// Δημιουργία ενός διακομιστή στη σοκέτα 2020, με το πολύ 5 συνδέσεις
s.createServer(2020, 5);
// Αναμονή για σύνδεση πελάτη
while (true) {
  // Αποδοχή έως 5 συνδέσεις
  clientid = s.wait();
  // Διάβασμα μηνύματος από τον πελάτη (θα πρέπει να γίνει σε ένα νήμα για να χειριστεί περισσότερες συνδέσεις)
  string message = s.read(clientid);
  message += " και επιστράφηκε";
  // Γράψτε ένα μήνυμα στον πελάτη
  s.write(clientid);
  // Κλείσιμο της σύνδεσης
  s.close(clientid);
}
// Τερματισμός του διακομιστή
s.close();
```

## Παράδειγμα: Πλευρά Πελάτη

```python
// Πλευρά πελάτη
Socket s; // δημιουργία σοκέτας
string name = s.getHostname();
println("Τοπικός διακομιστής:", name);
// Δημιουργία ενός διακομιστή στη σοκέτα 2020
s.connect(name, 2020);
// Γράψτε ένα μήνυμα στον διακομιστή
string message = "Γεια";
s.write(message);
// Διάβασμα ενός μηνύματος από τον διακομιστή
message = s.read();
println(message);
// Κλείσιμο της σύνδεσης
s.close();
```