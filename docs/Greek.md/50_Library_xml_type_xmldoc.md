# Βιβλιοθήκη xml: τύπος xmldoc

Αυτός ο τύπος χρησιμοποιείται για την χειρισμό των XML εγγράφων. Μπορεί να χρησιμοποιηθεί για τη δημιουργία ενός νέου XML εγγράφου ή για την ανάλυση ενός υπάρχοντος. Είναι δυνατή η σύνδεση μιας συνάρτησης με μια μεταβλητή xmldoc κατά την ανάλυση ενός εγγράφου για να έχετε πρόσβαση σε κάθε κόμβο κατά τη διάρκεια της εκτέλεσης. Αυτός ο τύπος προσπελαύνεται μέσω της βιβλιοθήκης xml: `use("xml")`.

## Μέθοδοι

1. `close()`: Κλείνει το τρέχον XML έγγραφο και καθαρίζει τη μνήμη από όλες τις τιμές XML.
2. `create(string topnode)`: Δημιουργεί ένα νέο XML έγγραφο, του οποίου ο κύριος κόμβος έχει το topnode ως όνομά του. Εάν το topnode είναι μια πλήρης δομή XML, τότε χρησιμοποιήστε το για τη δημιουργία του εγγράφου.
3. `load(string filename)`: Φορτώνει ένα αρχείο XML.
4. `node()`: Επιστρέφει τον κύριο κόμβο του εγγράφου.
5. `onclosing(function f, myobject o)`: Συνάρτηση που καλείται όταν βρεθεί μια κλείνουσα ετικέτα (δείτε τη συνάρτηση associate παρακάτω).
6. `parse(string buffer)`: Φορτώνει έναν προσωρινόχωρο XML.
7. `save(string filename, string encoding)`: Αποθηκεύει ένα XML έγγραφο. Εάν παραλείπεται η κωδικοποίηση, τότε η κωδικοποίηση είναι "utf-8".
8. `serialize(object)`: Σειριοποιεί οποιοδήποτε αντικείμενο Tamgu ως ένα XML έγγραφο.
9. `serializestring(object)`: Σειριοποιεί οποιοδήποτε αντικείμενο Tamgu ως ένα XML έγγραφο και επιστρέφει το αντίστοιχο συμβολοσειρά. Το έγγραφο καθαρίζεται επίσης κατά τη διαδικασία.
10. `xmlstring()`: Επιστρέφει ένα XML έγγραφο ως συμβολοσειρά.
11. `xpath(string myxpath)`: Αξιολογεί ένα XPath και επιστρέφει ένα διάνυσμα XML κόμβων.

## Συναρτησιοποιημένη συνάρτηση

Η συναρτησιοποιημένη συνάρτηση πρέπει να έχει την ακόλουθη υπογραφή:

```lua
function xmlnode(xml n, object)
```

Πρέπει να δηλωθεί με τον ακόλουθο τρόπο:

```lua
use("xml");
xmldoc mydoc(obj) with xmlnode;
```