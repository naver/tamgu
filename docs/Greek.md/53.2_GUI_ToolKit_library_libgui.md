# Περιήγηση σε Συμβολοσειρές

Το αντικείμενο `browser` καθορίζει ένα πλαίσιο στο οποίο μπορούν να εμφανίζονται συμβολοσειρές και, εφόσον είναι απαραίτητο, να επιλέγονται ως λίστα.

## Μέθοδοι

1. `add(label)`: Προσθέτει μια συμβολοσειρά στον περιηγητή
2. `clear()`: Καθαρίζει τον περιηγητή από όλες τις τιμές
3. `columnchar()`: Επιστρέφει τον χαρακτήρα διαχωρισμού στηλών
4. `columnchar(string)`: Ορίζει τον χαρακτήρα διαχωρισμού στηλών
5. `create(x, y, w, h, label)`: Δημιουργεί έναν περιηγητή
6. `deselect()`: Αποεπιλέγει όλα τα στοιχεία
7. `deselect(int i)`: Αποεπιλέγει το στοιχείο i
8. `formatchar()`: Επιστρέφει τον χαρακτήρα μορφοποίησης
9. `formatchar(string)`: Ορίζει τον χαρακτήρα μορφοποίησης
10. `insert(l, label)`: Εισάγει μια ετικέτα πριν από τη γραμμή l
11. `load(filename)`: Φορτώνει ένα αρχείο στον περιηγητή
12. `select()`: Επιστρέφει την επιλεγμένη συμβολοσειρά
13. `select(int i)`: Επιστρέφει τη συμβολοσειρά στη θέση i
14. `size()`: Επιστρέφει τον αριθμό των τιμών που υπάρχουν στον περιηγητή
15. `value()`: Επιστρέφει την τρέχουσα επιλεγμένη τιμή ως δείκτη

## Επιλογή

Ο μόνος τρόπος για να χρησιμοποιήσετε τον περιηγητή σε λειτουργία επιλογής είναι να τον συσχετίσετε με μια συνάρτηση κλήσης (callback) η οποία πρέπει να έχει την ακόλουθη υπογραφή:

```javascript
function browser_callback(browser b, myobject o);
```

Μια συνάρτηση κλήσης (callback) δηλώνεται με την εντολή `with`.

## Παράδειγμα

```javascript
use("gui");

// Η συνάρτηση κλήσης (callback)
function avec(browser b, self n) {
    println("Επιλογή:", b.select(), b.value());
}

window w;
w.begin(40, 40, 400, 500, "Περιήγηση");
browser b with avec;
b.create(10, 10, 100, 150, "Δοκιμή");
b.add("πρώτο");
b.add("δεύτερο");
b.add("τρίτο");
b.add("τέταρτο");
w.end();
w.run();
```

# Wtree και Wtreeitem

Αυτά τα δύο αντικείμενα χρησιμοποιούνται για τη διαχείριση ενός δέντρου, το οποίο είναι επιλέξιμο. Το πρώτο αντικείμενο είναι το ίδιο το αντικείμενο του δέντρου, το οποίο αποτελείται από ένα σύνολο `wtreeitem`. Το αντικείμενο που εμφανίζεται είναι μια ιεραρχία κόμβων, οι οποίοι μπορούν να επιλέγονται μέσω μιας συνάρτησης κλήσης (callback).

## Μέθοδοι Wtree

1. `add(string path)`: Προσθέτει ένα στοιχείο δέντρου και επιστρέφει το νέο `wtreeitem`
2. `add(wtreeitem e, string n)`: Προσθέτει ένα στοιχείο δέντρου μετά το e και επιστρέφει το νέο `wtreeitem`
3. `clear()`: Διαγράφει τα στοιχεία του δέντρου
4. `clicked()`: Επιστρέφει το στοιχείο που έγινε κλικ
5. `close(string path)`: Κλείνει το στοιχείο
6. `close(wtreeitem e)`: Κλείνει το στοιχείο
7. `connectorcolor(int c)`: Ορίζει ή επιστρέφει το χρώμα του συνδέτη
8. `connectorstyle(int s)`: Ορίζει ή επιστρέφει το στυλ του συνδέτη (βλ. παρακάτω)
9. `connectorwidth(int s)`: Ορίζει ή επιστρέφει το πλάτος του συνδέτη
10. `create(int x, int y, int h, int w, string label)`: Δημιουργεί ένα δέντρο
11. `find(string path)`: Επιστρέφει το στοιχείο που ταιριάζει με το μονοπάτι
12. `first()`: Επιστρέφει το πρώτο στοιχείο
13. `insert(wtreeitem e, string label, int pos)`: Εισάγει ένα στοιχείο μετά το e με ετικέτα στη θέση pos στη λίστα των παιδιών
14. `insertabove(wtreeitem e, string label)`: Εισάγει ένα στοιχείο πάνω από το e με ετικέτα
15. `isclosed(string path)`: Επιστρέφει true αν το στοιχείο είναι κλειστό
16. `isclosed(wtreeitem e)`: Επιστρέφει true αν το στοιχείο είναι κλειστό
17. `itembgcolor(int c)`: Ορίζει ή επιστρέφει το χρώμα φόντου του στοιχείου
18. `itemfgcolor(int c)`: Ορίζει ή επιστρέφει το χρώμα προσκηνίου
19. `itemfont(int c)`: Ορίζει ή επιστρέφει τη γραμματοσειρά του στοιχείου
20. `itemsize(int c)`: Ορίζει ή επιστρέφει το μέγεθος της γραμματοσειράς του στοιχείου
21. `last()`: Επιστρέφει το τελευταίο στοιχείο ως `wtreeitem`
22. `marginleft(int s)`: Ορίζει ή επιστρέφει το ποσό του κενού (σε pixel) που πρέπει να εμφανίζεται μεταξύ του αριστερού περιθωρίου του γραφικού στοιχείου και των περιεχομένων του δέντρου
23. `margintop(int s)`: Ορίζει ή επιστρέφει το ποσό του κενού (σε pixel) που πρέπει να εμφανίζεται μεταξύ του πάνω περιθωρίου του γραφικού στοιχείου και της κορυφής των περιεχομένων του δέντρου
24. `next(wtreeitem e)`: Επιστρέφει το επόμενο στοιχείο μετά το e ως `wtreeitem`
25. `open(string path)`: Ανοίγει το στοιχείο
26. `open(wtreeitem e)`: Ανοίγει το στοιχείο
27. `previous(wtreeitem e)`: Επιστρέφει το προηγούμενο στοιχείο πριν από το e ως `wtreeitem`
28. `remove(wtreeitem e)`: Αφαιρεί το στοιχείο e από το δέντρο
29. `root()`: Επιστρέφει το ριζικό στοιχείο ως `wtreeitem`
30. `rootlabel(string r)`: Ορίζει την ετικέτα του ριζικού
31. `selectmode(int s)`: Ορίζει ή επιστρέφει τη λειτουργία επιλογής (βλ. παρακάτω)
32. `sortorder(int s)`: Ορίζει ή επιστρέφει τη σειρά ταξινόμησης (βλ. παρακάτω)

## Μέθοδοι Wtreeitem

1. `activate()`: Ενεργοποιεί το τρέχον στοιχείο
2. `bgcolor(int c)`: Ορίζει ή επιστρέφει το χρώμα φόντου του στοιχείου
3. `child(int i)`: Επιστρέφει το παιδί στοιχείο στη θέση i
4. `children()`: Επιστρέφει τον αριθμό των παιδιών
5. `clean()`: Καθαρίζει το αντικείμενο που συσχετίζεται μέσω της τιμής
6. `deactivate()`: Απενεργοποιεί το τρέχον στοιχείο
7. `depth()`: Επιστρέφει το βάθος του στοιχείου
8. `fgcolor(int c)`: Ορίζει ή επιστρέφει το χρώμα προσκηνίου
9. `font(int c)`: Ορίζει ή επιστρέφει τη γραμματοσειρά του στοιχείου
10. `fontsize(int c)`: Ορίζει ή επιστρέφει το μέγεθος της γραμματοσειράς του στοιχείου
11. `isactive()`: Επιστρέφει true αν το στοιχείο είναι ενεργό
12. `isclosed()`: Επιστρέφει true αν το στοιχείο είναι κλειστό
13. `isopen()`: Επιστρέφει true αν το στοιχείο είναι ανοιχτό
14. `isroot()`: Επιστρέφει true αν το στοιχείο είναι ρίζα
15. `isselected()`: Επιστρέφει true αν το στοιχείο είναι επιλεγμένο
16. `label()`: Επιστρέφει την ετικέτα του στοιχείου
17. `next()`: Επιστρέφει το επόμενο στοιχείο
18. `parent()`: Επιστρέφει το προηγούμενο στοιχείο
19. `previous()`: Επιστρέφει το προηγούμενο στοιχείο
20. `value()`: Επιστρέφει την τιμή που συσχετίζεται με το αντικείμενο
21. `value(object)`: Συσχετίζει το στοιχείο με μια τιμή

## Συνάρτηση Κλήσης (Callback)

Είναι δυνατόν να συσχετιστεί ένα αντικείμενο `wtree` με μια συνάρτηση κλήσης (callback). Αυτή η συνάρτηση κλήσης (callback) πρέπει να έχει την ακόλουθη υπογραφή:

```javascript
function wtree_callback(wtree t, wtreeitem i, int reason, myobject o);
```

Αυτή η συνάρτηση θα κληθεί κάθε φορά που θα επιλεγεί ένα στοιχείο από το δέντρο. Ο λόγος είναι μία από τις παρακάτω τιμές:

- `FL_TREE_REASON_NONE`: άγνωστος λόγος
- `FL_TREE_REASON_SELECTED`: επιλέχθηκε ένα στοιχείο
- `FL_TREE_REASON_DESELECTED`: απεπιλέχθηκε ένα στοιχείο
- `FL_TREE_REASON_OPENED`: ανοίχθηκε ένα στοιχείο
- `FL_TREE_REASON_CLOSED`: έκλεισε ένα στοιχείο

## Επαναληπτής

Το αντικείμενο `wtree` είναι επαναληπτής.

## Μονοπάτι

Ορισμένες λειτουργίες, όπως η `add` ή η `find`, απαιτούν ένα μονοπάτι. Ένα μονοπάτι είναι παρόμοιο με ένα μονοπάτι Unix και καθορίζει ένα μονοπάτι από τη ρίζα στο φύλλο. Για παράδειγμα: "/Root/Top/subnode".

## Στυλ Συνδέτη

Το στυλ των συνδέτες μεταξύ των κόμβων ελέγχεται από τις παρακάτω σημαίες:

- `FL_TREE_CONNECTOR_NONE`: Χρησιμοποιείται καμία γραμμή για τη σύνδεση των στοιχείων.
- `FL_TREE_CONNECTOR_DOTTED`: Χρησιμοποιούνται διακεκομμένες γραμμές για τη σύνδεση των στοιχείων (προεπιλογή).
- `FL_TREE_CONNECTOR_SOLID`: Χρησιμοποιούνται συνεχείς γραμμές για τη σύνδεση των στοιχείων.

## Λειτουργία Επιλογής

Ο τρόπος με τον οποίο επιλέγονται τα κόμβοι στο δέντρο ελέγχεται από τις παρακάτω σημαίες:

- `FL_TREE_SELECT_NONE`: Δεν επιλέγεται τίποτα όταν γίνεται κλικ στα στοιχεία.
- `FL_TREE_SELECT_SINGLE`: Επιλέγεται ένα μόνο στοιχείο όταν γίνεται κλικ στο στοιχείο (προεπιλογή).
- `FL_TREE_SELECT_MULTI`: Πολλαπλά στοιχεία μπορούν να επιλεγούν με κλικ.

## Σειρά Ταξινόμησης

Τα στοιχεία μπορούν να προστεθούν στο δέντρο με τη σειρά ταξινόμησης που ελέγχεται από τις παρακάτω σημαίες:

- `FL_TREE_SORT_NONE`: Καμία ταξινόμηση· τα στοιχεία προστίθενται με τη σειρά που ορίζεται (προεπιλογή).
- `FL_TREE_SORT_ASCENDING`: Τα στοιχεία προστίθενται με αύξουσα σειρά ταξινόμησης.
- `FL_TREE_SORT_DESCENDING`: Τα στοιχεία προστίθενται με φθίνουσα σειρά ταξινόμησης.

## Παράδειγμα

```javascript
use("gui");

// Αυτή η συνάρτηση καλείται κάθε φορά που επιλέγεται ή αποεπιλέγεται ένα στοιχείο
function avec(wtree t, wtreeitem i, int reason, self n) {
    // Αλλάζουμε το μέγεθος του επιλεγμένου στοιχείου
    if (reason == FL_TREE_REASON_SELECTED)
        i.fontsize(20);
    else if (reason == FL_TREE_REASON_DESELECTED)
        // Το αποεπιλεγμένο στοιχείο παίρνει το προηγούμενο μέγεθος του
        i.fontsize(FL_NORMAL_SIZE);
}

window w;
wtree mytree with avec;
wtreeitem ei;
w.begin(40, 40, 400, 500, "Περιήγηση");
mytree.create(10, 10, 100, 150, "Δοκιμή");
mytree.add("πρώτο");
mytree.add("δεύτερο");
mytree.add("τρίτο");
mytree.add("τέταρτο");
w.end();
w.run();
```

## Παράδειγμα από ένα αντικείμενο Δέντρου

```javascript
use("gui");

tree atree = {
    'a': {
        'b': {
            'c': 1
        },
        'd': 3
    }
};

function traversetree(tree t, wtree wt, wtreeitem e) {
    if (t == null)
        return;
    wtreeitem x;
    // Το πρώτο στοιχείο είναι null
    if (e == null)
        x = wt.add(t);
    else
        x = wt.add(e, t);
    if (t.childnode() != null)
        traversetree(t.childnode(), wt, x);
    traversetree(t.nextnode(), wt, e);
}

window w;
wtree mytree;
w.begin(40, 40, 1000, 900, "Εμφάνιση δέντρου");
mytree.create(20, 20, 950, 850, "το δέντρο μου");
// Η ρίζα του δέντρου γίνεται η ρίζα της αναπαράστασής της
mytree.rootlabel(atree);
// Διατρέχουμε το δέντρο μας για να κατασκευάσουμε την αναπαράσταση από αυτό...
traversetree(atree.childnode(), mytree, null);
w.end();
w.run();
```