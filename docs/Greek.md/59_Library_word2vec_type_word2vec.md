# Βιβλιοθήκη word2vec

Η βιβλιοθήκη **word2vec** στο Tamgu παρέχει μια ενθυλάκωση του εργαλείου word2vec. Για περισσότερες πληροφορίες σχετικά με το word2vec, επισκεφθείτε την [ιστοσελίδα του Word2Vec](https://code.google.com/p/word2vec/).

Αυτή η βιβλιοθήκη σας επιτρέπει να εκπαιδεύσετε το σύστημα σε συλλογές κειμένων και να χρησιμοποιήσετε το εκπαιδευμένο μοντέλο για να βρείτε αποστάσεις ή αναλογίες μεταξύ λέξεων.

## Μέθοδοι

1. `accuracy(vector words, int threshold)`: Αυτή η μέθοδος βρίσκει την ακρίβεια για ένα διάνυσμα λέξεων. Επιστρέφει έναν χάρτη συχνοτήτων (fmap). Αν δεν δοθεί η τιμή του κατωφλίου, η προεπιλεγμένη τιμή του είναι 30000.
2. `analogy(svector words)`: Αυτή η μέθοδος βρίσκει αναλογίες για μια ομάδα λέξεων. Επιστρέφει έναν χάρτη συχνοτήτων.
3. `distance(svector words)`: Αυτή η μέθοδος βρίσκει την απόσταση μεταξύ λέξεων σε ένα διάνυσμα. Επιστρέφει έναν χάρτη συχνοτήτων.
4. `features()`: Αυτή η μέθοδος επιστρέφει έναν χάρτη του λεξιλογίου με τις τιμές των χαρακτηριστικών τους.
5. `initialization(map m)`: Αυτή η μέθοδος αρχικοποιεί ένα σύνολο εκπαίδευσης word2vec.
6. `loadmodel(string filename, bool normalize)`: Αυτή η μέθοδος φορτώνει ένα μοντέλο word2vec.
7. `trainmodel(vector v)`: Αυτή η μέθοδος ξεκινά την εκπαίδευση. Αν δεν δοθεί το διάνυσμα, το σύστημα χρησιμοποιεί το αρχείο εισόδου που δόθηκε στις επιλογές αρχικοποίησης.
8. `vocabulary()`: Αυτή η μέθοδος επιστρέφει έναν χάρτη επαναλήπτη του λεξιλογίου που καλύπτεται από την εκπαίδευση.

## Επιλογές

Οι επιλογές για τη βιβλιοθήκη παρέχονται ως ένας χάρτης. Αυτές οι επιλογές είναι οι ίδιες με αυτές που αναμένονται από το εργαλείο word2vec.

Παράδειγμα επιλογών:
```cpp
map options = {
    "train": "input.txt",
    "output": "output.txt",
    "cbow": 1,
    "size": 200,
    "window": 5,
    "negative": 25,
    "hs": 0,
    "sample": 1e-4,
    "threads": 20,
    "binary": 1,
    "iter": 15
};
```

Για μια καλύτερη εξήγηση αυτών των επιλογών, παρακαλούμε διαβάστε τις κατάλληλες πληροφορίες στην ιστοσελίδα του Word2Vec. Οι πιο σημαντικές επιλογές είναι:
- "train": Αυτή η επιλογή πρέπει να συσχετιστεί με το αρχείο που θα χρησιμοποιηθεί ως υλικό εκπαίδευσης.
- "output": Η τιμή για αυτό το κλειδί είναι το αρχείο εξόδου όπου θα αποθηκευτεί το τελικό μοντέλο εκπαίδευσης.
- "window": Αυτή η τιμή καθορίζει τον αριθμό των λέξεων που λαμβάνονται υπόψη ως κατάλληλο περιβάλλον για ένα δεδομένο τοκέν.
- "threads": Το Word2Vec χρησιμοποιεί νήματα για να επιταχύνει τη διαδικασία. Μπορείτε να καθορίσετε τον αριθμό των νημάτων που μπορεί να χρησιμοποιήσει το σύστημα.
- "size": Αυτή η τιμή καθορίζει το μέγεθος του διανύσματος που συσχετίζεται με κάθε τοκέν.
- "iter": Αυτή η τιμή καθορίζει τον αριθμό των επαναλήψεων για την κατασκευή του μοντέλου.

Αφού έχουν παρασχεθεί αυτές οι επιλογές, καλέστε τη μέθοδο `initialization` για να τις ορίσετε.

Παράδειγμα:
```cpp
use("word2vec");
word2vec wrd;

// Το παράθυρο θα είναι 5 λέξεις γύρω από την κύρια λέξη.
// Το μέγεθος του διανύσματος για κάθε λέξη θα είναι 200.
// Το σύστημα θα χρησιμοποιήσει 20 νήματα για τον υπολογισμό του τελικού μοντέλου με 15 επαναλήψεις.
map options = {
    "train": "input.txt",
    "output": "output.bin",
    "cbow": 1,
    "size": 200,
    "window": 5,
    "negative": 25,
    "hs": 0,
    "sample": 1e-4,
    "threads": 20,
    "binary": 1,
    "iter": 15
};

wrd.initialization(options);
wrd.trainmodel();
```

## Χρήση

Για να χρησιμοποιήσετε ένα εκπαιδευμένο μοντέλο, πρέπει να το φορτώσετε χρησιμοποιώντας τη μέθοδο `loadmodel`. Έπειτα, μπορείτε να χρησιμοποιήσετε τις μεθόδους `distance`, `analogy` ή `accuracy` για να βρείτε αποστάσεις, αναλογίες ή ακρίβειες μεταξύ λέξεων. Όλες αυτές οι μέθοδοι επιστρέφουν μια λίστα λέξεων με τις αποστάσεις τους από τις λέξεις στα εισαγόμενα διανύσματα. Το λεξιλόγιο στο οποίο συγκρίνονται οι λέξεις είναι αυτό που εξάγεται από το εισαγόμενο έγγραφο. Μπορείτε να έχετε πρόσβαση σε όλες αυτές τις λέξεις με τη μέθοδο `vocabulary`.

Παράδειγμα:
```cpp
use("word2vec");
word2vec wrd;

// Φόρτωση του μοντέλου που προέκυψε από την εκπαίδευση
wrd.loadmodel("output.bin");

svector v = ["word"];
fmap res = wrd.distance(v);
```

## Τύπος w2vector

Κάθε λέξη που εξάγεται από το εισαγόμενο έγγραφο συσχετίζεται με ένα συγκεκριμένο διάνυσμα του οποίου το μέγεθος καθορίζεται κατά την εκπαίδευση με την επιλογή "size". Στο παράδειγμα, το μέγεθος έχει οριστεί σε 200.

Είναι δυνατό να εξάγετε ένα συγκεκριμένο διάνυσμα από το λεξιλόγιο εκπαίδευσης και να το αποθηκεύσετε σε ένα συγκεκριμένο αντικείμενο που ονομάζεται w2vector.

### Μέθοδοι

1. `dot(element)`: Αυτή η μέθοδος επιστρέφει το εσωτερικό γινόμενο μεταξύ δύο λέξεων. Το στοιχείο μπορεί να είναι είτε μια συμβολοσειρά είτε ένα w2vector.
2. `cosine(element)`: Αυτή η μέθοδος επιστρέφει την απόσταση cosine μεταξύ δύο λέξεων. Το στοιχείο μπορεί να είναι είτε μια συμβολοσειρά είτε ένα w2vector.
3. `distance(element)`: Αυτή η μέθοδος επιστρέφει την απόσταση μεταξύ δύο λέξεων. Το στοιχείο μπορεί να είναι είτε μια συμβολοσειρά είτε ένα w2vector.
4. `threshold(element)`: Αυτή η μέθοδος επιστρέφει ή ορίζει το κατώφλι.
5. `norm(element)`: Αυτή η μέθοδος επιστρέφει τη νόρμα του διανύσματος.

### Δημιουργία

Για να δημιουργήσετε ένα αντικείμενο w2vector, πρέπει πρώτα να φορτώσετε ένα μοντέλο και στη συνέχεια να παρέχετε τόσο τη συμβολοσειρά του τοκέν όσο και ένα κατώφλι.

Παράδειγμα:
```cpp
use("word2vec");
w2vector wrd;

// Φόρτωση του μοντέλου που προέκυψε από την εκπαίδευση
wrd.loadmodel("output.bin");

w2vector w = wrd["tsunami": 0.5];
w2vector ww = wrd["earthquake": 0.5];
println(w.distance(ww));
```

Το κατώφλι δεν είναι υποχρεωτικό. Χρησιμοποιείται όταν συγκρίνετε δύο στοιχεία w2vector για να δείτε αν είναι κοντά. Το κατώφλι χρησιμοποιείται για να ανιχνεύσει εάν η απόσταση μεταξύ των δύο στοιχείων είναι μεγαλύτερη ή ίση με το κατώφλι.

Με άλλα λόγια, `if (w == ww)` είναι ισοδύναμο με `if (w.distance(ww) >= w.threshold())`.

Παράδειγμα:
```cpp
if (w == ww)
    println("ok");
if (w == "earthquake") // Μπορούμε να συγκρίνουμε με μια απλή συμβολοσειρά
    println("ok");
```