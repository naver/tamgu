# Tamgu에서의 락-프리 타입

락-프리 타입은 멀티스레딩 애플리케이션에서 매우 유용하며, 락 없이 숫자, 문자열, 벡터 또는 맵을 조작할 수 있습니다. 락은 실행 성능에 상당한 영향을 미칩니다. 스레드가 락 때문에 대기 상태에 들어가면 시스템은 그 컨텍스트를 저장하고 락이 해제될 때 다시 활성화해야 합니다. 락-프리 프로그래밍은 실행 흐름에서의 비용이 많이 드는 중단을 피하기 위해 락의 사용을 최소화하는 것을 목표로 합니다.

## 테이블과 로우스트링

이전 섹션에서는 락-프리 객체 중 두 가지인 테이블과 로우스트링을 다루었습니다. 이러한 객체들은 크기가 고정되어 있고 스레드의 문맥 내에서 수정할 수 없는 특성을 가지고 있습니다. 이는 이러한 객체들에 대한 동시 접근이 내부 버퍼 선언에 간섭하지 않음을 보장합니다.

## 원자 값: A_Bool, A_Int, A_Float, A_String, A_Ustring

Tamgu는 부울, 정수, 부동소수점 및 문자열에 대해 다섯 가지 원자 값도 제공합니다. 이 객체들은 일반적인 값으로 사용할 수 있지만 동시 접근의 경우 원자성이 보장됩니다. 여기서 원자성은 한 번에 하나의 스레드만 값을 수정할 수 있음을 의미합니다.

## 컨테이너: A_Vector, A_[I|F|S|U]Vector, A_Map [I|F|S|U][I|F|S|U]

Tamgu는 최소한의 락을 사용하여 여러 스레드에서 동시에 수정할 수 있는 컨테이너도 제공합니다. 이러한 구조들은 해당하는 비-원자적 맵과 동일하게 사용할 수 있습니다. 이들은 일반적으로 많은 수의 값을 수용할 수 있는 청크의 연결 리스트로 구현되어 있습니다. 새로운 요소가 이 연결 리스트에 추가될 때에만 락이 설정됩니다. 읽기 및 대부분의 저장 작업은 맵이나 벡터가 새로운 요소를 수용하기에 충분히 크지 않은 경우를 제외하고는 락 없이 처리됩니다.

**참고:** A_map은 모두 값 컨테이너이며, A_vector는 객체 컨테이너입니다. 이러한 맵에 액세스하려면 "allmaps" 라이브러리를 로드해야 합니다.

## 링

"링"은 최대 65535개의 요소를 저장할 수 있는 락-프리 컨테이너입니다. 이는 요소를 앞이나 뒤에서 저장하거나 제거할 수 있는 구조로 구현되어 있습니다. 다른 컨테이너와 달리 이러한 작업은 동일한 메모리 시간 또는 공간 풋프린트를 가지고 있습니다.

## 중요

다른 스레드들이 동일한 락-프리 변수를 수정하려고 할 때는 어떤 수정이 성공할지 보장할 수 없습니다. 마지막으로 변수에 접근한 스레드가 값을 수정할 수 있습니다.