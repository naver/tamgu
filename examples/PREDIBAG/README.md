# Tamgu: A Multi-paradigm AI Agent Orchestrator
([Version fran√ßaise](https://github.com/naver/tamgu/blob/master/examples/PREDIBAG/LISEZMOI.md))


## Introduction

Tamgu is an innovative programming language designed to orchestrate Artificial Intelligence (AI) agents. It uniquely merges functional, imperative, and logical (FIL) programming paradigms, providing a powerful and flexible platform for developing advanced AI applications.

## Key Features

### 1. Seamless Integration of Language Models (LLM)

Tamgu allows direct incorporation of LLM calls into the programming flow. This integration blurs the traditional boundary between classical programming and generative AI.

(The examples have been extracted from: [agents_prolog_code.tmg](https://github.com/naver/tamgu/blob/master/examples/PREDIBAG/agents_prolog_code.tmg))


Example:
```prolog
vprompt("llama3", ?problem, ?query, ?generated_code)
```
In this example:
- "llama3" is the name of the LLM model used
- ?problem contains the description of the problem to be solved
- ?query is the specific question or instruction for the LLM
- ?generated_code is the variable that will receive the code generated by the LLM

This function enables Tamgu to interact directly with the LLM to generate code or responses based on the provided problem and query.

### 2. Prolog-inspired Predicate Engine

The logical core of Tamgu is heavily inspired by Prolog, offering a powerful predicate engine for reasoning and solving complex problems.

Example:
```prolog
create(?P, ?Q, ?R):-
    ?model is "llama3",
    println("Model:", ?model),
    vprompt(?model, ?P, ?Q, ?Gen),
    extractcode(?Gen, ?code),
    execution(?model, ?code, ?R).
```
This `create` predicate illustrates the process of code creation and execution:
1. It defines the model to use ("llama3")
2. Displays the name of the model used
3. Uses vprompt to generate code based on the problem ?P and the query ?Q
4. Extracts the Python code from the generated response
5. Executes the extracted code and stores the result in ?R

This structure allows Tamgu to generate and execute code dynamically and adaptively.

### 3. Multi-model Management

Tamgu can orchestrate the use of multiple AI models, enabling the leveraging of different LLMs' strengths for various tasks.

Example:
```prolog
create(?P, ?Q, ?R):-
    ?model is "command-r",
    // ... code ...
create(?P, ?Q, ?R):-
    ?model is "llama3",
    // ... code ...
create(?P, ?Q, ?R):-
    ?model is "llama3:70b",
    // ... code ...
```
This series of `create` predicates shows how Tamgu can try different models (command-r, llama3, llama3:70b) to solve a problem. The system will attempt each model in order until a satisfactory solution is found, illustrating Tamgu's ability to adapt and use the most appropriate model for each task.

### 4. Dynamic Code Generation and Execution

Tamgu can generate, analyze, and execute Python code dynamically, paving the way for self-adapting AI agents.

Example:
```prolog
function execute_code(string c, ?_ v) {
    println("execute code");
    string py_err;
    try {
        v = p.run(c, "hotel_bill");
        return true;
    }
    catch(py_err) {
        v = py_err;
        return false;
    }
}
```
This `execute_code` function:
1. Takes a string `c` containing Python code
2. Attempts to execute this code using the built-in Python interpreter (`p.run`)
3. If the execution succeeds, it stores the result in the variable `v` and returns true
4. In case of an error, it captures the error in `py_err`, stores it in `v`, and returns false

This approach allows Tamgu to execute dynamically generated code while handling potential errors.

### 5. Advanced Error Handling and Self-Correction

Tamgu integrates sophisticated mechanisms to detect and correct errors in the generated code, thereby enhancing the robustness of AI agents.

Example:
```prolog
execute_check(false, ?model, ?code, ?r, ?res) :-
    printlnerr("Correction"),
    ?c is ?r + "\n```python "+?code + "```",
    vprompt(?model, correction, ?c, ?Gen),
    extractcode(?Gen, ?codebis),
    execute_code_final(?codebis, ?res),
    println("Execution done after correction").
```
This `execute_check` predicate is called when the initial code execution fails. It:
1. Displays an error message
2. Prepares a string containing the error and the original code
3. Uses vprompt to ask the model to correct the code
4. Extracts the corrected code
5. Attempts to execute the corrected code
6. Displays a confirmation message if the execution succeeds

This self-correction capability allows Tamgu to handle errors autonomously and improve the reliability of AI agents.

## How Tamgu Works as an Agent Orchestrator

1. **Problem Definition**: The user defines the problem and the questions to be solved in structured strings.

2. **Model Selection**: Tamgu uses a backtracking approach to try different LLM models (command-r, llama3, llama3:70b) until a satisfactory solution is found.

3. **Code Generation**: The selected model generates Python code to solve the specified problem.

4. **Extraction and Execution**: Tamgu extracts the Python code from the formatted response and attempts to execute it.

5. **Error Handling**: If the execution fails, Tamgu captures the error and uses the LLM to correct the code.

6. **Iteration and Improvement**: The process repeats until a valid solution is found or all options are exhausted.

## Benefits of the Tamgu Approach

1. **Flexibility**: Tamgu can adapt to a wide variety of problems using different models and strategies.

2. **Robustness**: Advanced error handling and self-correction improve the reliability of AI agents.

3. **Scalability**: It is easy to add new models or problem-solving strategies.

4. **Interoperability**: Tamgu can interact seamlessly with Python, allowing the use of a vast ecosystem of libraries.

5. **Expressive Power**: The combination of paradigms allows complex logics to be expressed concisely and effectively.

## Potential Use Cases

- **Automation of Complex Tasks**: Automatic generation and execution of scripts for various tasks.
- **Adaptive Problem Solving**: Creation of agents capable of adapting to changing problems.
- **Advanced Data Analysis and Processing**: Combination of logical analysis and numerical processing.
- **AI-Assisted Development**: Assistance in code generation and correction for developers.
- **Advanced Conversational AI Systems**: Creation of agents capable of reasoning and executing actions based on conversations.

## Conclusion

Tamgu represents a significant advancement in the field of AI agent orchestration. By combining the power of logical programming, the flexibility of dynamic code generation, and the intelligence of advanced language models, Tamgu paves the way for a new generation of AI applications that are more adaptive, robust, and powerful.

Its unique approach allows the creation of AI agents capable not only of reasoning about complex problems but also of generating and executing code to solve these problems autonomously. This self-improvement and adaptation capability makes Tamgu a valuable tool for addressing current and future challenges in AI.
